<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta charset="UTF-8">
  <title>File System Access API demo for iOS/Mac</title>
  <script type="module">
    const root = await navigator.storage.getDirectory();
    let newDirectory;
    const getFormData = form => Object.fromEntries(new FormData(form).entries());

    document.querySelector('#addDirectory').addEventListener('submit', async e => {
      e.preventDefault();
      const directoryName = e.target[0].value
      newDirectory = await root.getDirectoryHandle(directoryName, { "create" : true });
      document.querySelector('#createdDirectory').innerHTML = `Directory ${directoryName} created!`;
    });
  </script>
</head>
<body>
<header>
  <h1>
    File System Access API demo for iOS/Mac
  </h1>
  <div>
    iOS and Mac support File System Access API with Origin Private File System - "regular" files on disk are not available
    <br>
    Check article: <a href="https://webkit.org/blog/12257/the-file-system-access-api-with-origin-private-file-system/">The File System Access API with Origin Private File System</a>
  </div>
</header>
<main>
<article>
  <h2>Add directory</h2>
  <form id="addDirectory">
    <label for="directoryName">Directory name</label>
    <input type="text" id="directoryName">
    <br>
    <button type="submit">add directory</button>
  </form>
  <output id="createdDirectory"></output>
</article>
</main>
</body>
</html>